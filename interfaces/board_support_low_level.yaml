description: >-
  Provides an interface to forward low-level functionality e.g., control pilot voltage values, contactor switching
  and feedback, to a high-level module
cmds:
  get_grid_current_limit:
    description: Maximum current (ampere) the hardware can handle (import and export from grid)
    result:
      description: Returns the maximum current in ampere
      type: number
  get_max_phase_count:
    description: Maximum number of phases the hardware can use  (import and export from grid)
    result:
      description: Returns the maximum number of phases
      type: integer
  enable_CP:
    description: >-
      Enable or disable CP. In case the CP will be enabled, by switching from 'false' to 'true',
      the duty cycle is configured to 100% and after that configured to the last configured duty cycle.
      Disable means 0V on CP (CP state E).
    arguments:
      value:
        description: 'True: enabled, false: disabled.'
        type: boolean
  set_duty_cycle:
    description: >-
      Sets PWM with duty cycle. The duty cycle can only be configured if the CP is enabled.
      If the CP is disabled, the value is stored temporarily until the CP is enabled again.
    arguments:
      value:
        description: PWM duty cycle (>=0, <=100) in percent
        type: number
        minimum: 0
        maximum: 100
  close_contactor:
    description: Open or close the contactor
    arguments:
      value:
        description: 'True: close, false: open.'
        type: boolean
vars:
  cp_state:
    description: CP state (A, B, C, D, E, F)
    type: string
    $ref: /board_support_low_level#/CP
  pp_ampacity:
    description: ->
      Indicates the supported current in Ampere by the attached cable by evaluating
      the Proximity Pilot signal. In case the charging station is equipped with a fixed
      cable, no PP ampacity value is transmitted. In case the charging station is 
      equipped with a pluggable cable and no cable is connected the PP ampacity value
      is transmitted with 0 Ampere.
    type: integer
  pp_error:
    description: Signal the different errors regarding the Proximity Pilot signal
    type: string
    $ref: /board_support_low_level#/ProximityError
  rcd_state:
    description: 'True: tripped, false: not tripped'
    type: boolean
  contactor_state:
    description: 'True: closed, false: opened'
    type: boolean
  duty_cycle_value:
    description: Send actual PWM duty cycle value in percent
    type: number
    minimum: 0
    maximum: 100
  low_level_error:
    description: Signal the different errors that can happen in HW
    type: string
    $ref: /board_support_low_level#/ErrorReason
  number_of_phases_available:
    description: Instantaneous phase count available to car (0 signalize pending states)
    type: integer
    minimum: 0
    maximum: 3
  telemetry:
    description: Other telemetry
    type: object
    $ref: /board_support#/Telemetry
